import { FunctionComponent } from 'react';
import { Typography, Card, Grid } from '@mui/material';
import { ParsedCve } from '../../../types/CVE.types';

type Props = {
  cve: ParsedCve;
};

const GridItem: FunctionComponent<{
  label: string;
  value: string | number;
}> = ({ label, value }) => {
  return (
    <Grid xs={12} md={6} item>
      <Card
        elevation={1}
        sx={{
          display: 'flex',
          flexDirection: 'column',
          justifyContent: 'center',
          alignItems: 'center',
          padding: '1rem',
        }}
      >
        <Typography variant='body1' gutterBottom>
          <b>{label}:</b>
        </Typography>
        <Typography variant='body1'>{value}</Typography>
      </Card>
    </Grid>
  );
};

export const CveVectorsGrid: FunctionComponent<Props> = ({ cve }) => {
  if (!cve.metrics?.vectors.length) {
    return null;
  }

  return (
    <Grid container spacing={2}>
      {cve.metrics.vectors.map(({ name, value }) => (
        <GridItem key={name} label={name} value={value} />
      ))}
    </Grid>
  );
};
