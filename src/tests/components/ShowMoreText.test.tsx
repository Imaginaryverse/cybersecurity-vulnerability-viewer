import { render, screen } from '@testing-library/react';
import { ShowMoreText } from '../../components/molecules';

const str =
  'Lorem ipsum dolor sit amet consectetur adipisicing elit. Maxime quo blanditiis quae odit ullam provident? Quaerat sunt quis iste, culpa ipsa incidunt explicabo mollitia! Porro amet non ratione. Fuga explicabo voluptatibus, dignissimos eligendi nemo aperiam aliquid perferendis beatae quis similique blanditiis corrupti qui rerum et praesentium commodi totam laboriosam distinctio inventore dolore iure itaque eum reiciendis. Iste, asperiores labore officiis ipsum quo autem consequatur vel veniam adipisci quod ullam, voluptate distinctio expedita, at ad non perferendis voluptatem ipsa est error quos. Doloribus unde fugit excepturi exercitationem quaerat cumque tempore sequi, sapiente, illo reiciendis, eaque possimus distinctio perferendis numquam aperiam maiores maxime delectus ea eos corrupti incidunt ipsum! Illum ducimus exercitationem nulla quae? Ad ipsam error, aliquid iusto culpa eligendi aperiam quisquam sapiente, quibusdam quidem quas eos. Quis, quae. Aut ipsa eveniet, molestiae omnis dignissimos reiciendis dolor molestias incidunt quisquam pariatur aliquam, eos atque! Eius libero repellat quae suscipit in culpa, itaque id veniam reiciendis, iste ex blanditiis doloremque aut praesentium tempora neque dignissimos aliquam distinctio? Consectetur accusantium nemo excepturi pariatur aspernatur dignissimos numquam enim dolores quos quidem, sed voluptates sit debitis fugiat minus explicabo? Repellat et voluptatum reprehenderit, nostrum illum voluptate neque enim quam dolorum adipisci, doloremque quo quibusdam laboriosam dolores numquam ad ut exercitationem itaque, amet dicta obcaecati minima. Magnam, labore sint repudiandae dignissimos consequatur cumque laborum beatae corporis nobis suscipit iure quas aspernatur enim fuga, quia totam excepturi dicta, eligendi libero optio non eaque fugit quasi! Adipisci laudantium facere molestias necessitatibus eligendi commodi optio in qui, magnam vitae?';

describe('<ShowMoreText />', () => {
  describe('when given a string longer than the limit', () => {
    it('should include the text "Show more"', () => {
      render(<ShowMoreText text={str} limit={200} />);
      expect(screen.getByText('Show more')).toBeInTheDocument();
    });
  });

  describe('when given a string shorter than the limit', () => {
    it('should not include the text "Show more"', () => {
      render(<ShowMoreText text='hello world' limit={200} />);
      expect(screen.queryByText('Show more')).not.toBeInTheDocument();
    });
  });
});
