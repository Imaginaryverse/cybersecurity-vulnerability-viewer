import { Typography, Card, List, ListItem, Box } from '@mui/material';

type Props<T> = {
  label?: string;
  data: T[];
  render: (item: T, idx?: number) => JSX.Element;
  listStyleType?: 'disc' | 'circle' | 'square';
  itemElevation?: number;
};

export const CustomList = <T,>({
  label,
  data,
  render,
  listStyleType,
  itemElevation,
}: Props<T>) => {
  if (!data.length) {
    return null;
  }

  return (
    <Box>
      {!!label && (
        <Typography variant='h5' gutterBottom>
          {label}
        </Typography>
      )}
      <List
        sx={{
          paddingLeft: listStyleType ? '1.5rem' : '0',
          display: 'flex',
          flexDirection: 'column',
          gap: '1rem',
        }}
      >
        {data.map((item, idx) => (
          <ListItem
            key={idx}
            sx={{
              display: 'list-item',
              listStyleType: listStyleType,
              padding: '0',
            }}
          >
            {itemElevation ? (
              <Card
                elevation={itemElevation}
                sx={{
                  padding: '1rem',
                }}
              >
                {render(item, idx)}
              </Card>
            ) : (
              <Box
                sx={{
                  padding: '1rem',
                }}
              >
                {render(item, idx)}
              </Box>
            )}
          </ListItem>
        ))}
      </List>
    </Box>
  );
};
